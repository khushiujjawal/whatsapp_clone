{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/khushi/Desktop/whatsapp_clone-main/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport logo from \"./logo.svg\";\nimport { useReducer, useState, useEffect } from \"react\";\nimport { useCookies } from \"react-cookie\";\nimport \"./App.scss\";\nimport ProfileSection from \"./component/ProfileSection/ProfileSection\";\nimport SearchPeople from \"./component/SearchPeople/SearchPeople\";\nimport ChatCardsListing from \"./component/ChatCardsListing/ChatCardsListing\";\nimport ChatSection from \"./component/ChatSection/ChatSection\";\nimport Login from \"./component/Login/Login\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { BASE_URL, LOGIN, USER, USER_LIST } from \"./utils/apiEndpoints\";\nimport { postRequest, getRequest } from \"./utils/apiRequests\";\nimport AuthContext from \"./context/AuthContext\";\nimport SocketContext from \"./context/SocketContext\";\nimport io from \"socket.io-client\";\nimport friendsListReducer from \"./reducer/friendsListReducer\";\nconst initialState = {};\nconst socket = io.connect(\"http://localhost:2000\", {\n  reconnection: true,\n  reconnectionDelay: 500,\n  reconnectionAttempts: 10\n});\n\nfunction App() {\n  _s();\n\n  const [cookies, setCookie, removeCookie] = useCookies([\"whatsappclone\"]);\n  const [error, setError] = useState(null);\n  const [recentMsg, setRecentMsg] = useState({});\n  const [recentOnlineFriend, setRecentOnlineFriend] = useState({});\n  const [recentOfflineFriend, setRecentOfflineFriend] = useState({});\n  const [userObj, setUserObj] = useState(() => {\n    return cookies.user;\n  });\n  const [friendsList, friendsListDispatch] = useReducer(friendsListReducer, initialState);\n  useEffect(() => {\n    if (userObj && userObj.sessionId) {\n      joinUser(userObj);\n      getFriendsList(userObj);\n    }\n  }, []);\n\n  const handleLogin = async userData => {\n    const formData = new FormData();\n\n    if (userData.file) {\n      formData.append(\"profileImg\", userData.file, userData.file.name);\n    }\n\n    formData.append(\"payload\", JSON.stringify({\n      name: userData.name\n    }));\n    const response = await postRequest(`${BASE_URL}${LOGIN}`, formData);\n    console.log(response);\n\n    if (response.error) {\n      setError(response.error);\n      return false;\n    }\n\n    setCookie(\"user\", response);\n    setUserObj(response);\n    joinUser(response);\n    getFriendsList(response);\n  };\n\n  const handleLogout = () => {\n    removeCookie(\"user\");\n    setUserObj(null);\n  };\n\n  const getFriendsList = async userData => {\n    const response = await getRequest(`${BASE_URL}${USER_LIST}/${userData.sessionId}`);\n\n    if (response.error) {\n      setError(response.error);\n      return false;\n    }\n\n    friendsListDispatch({\n      type: \"FRIENDS\",\n      payload: response\n    });\n    onlineOfflineUser();\n  };\n\n  const onlineOfflineUser = () => {\n    socket.on(\"new-online-user\", data => {\n      friendsListDispatch({\n        type: \"NEW_FRIEND\",\n        payload: data\n      });\n      setRecentOnlineFriend(data);\n    });\n    socket.on(\"new-offline-user\", data => {\n      console.clear();\n      console.log(data);\n      setRecentOfflineFriend(data);\n    });\n  };\n\n  const joinUser = userData => {\n    let initData = {\n      createdAt: userData.createdAt,\n      name: userData.name,\n      profileImg: userData.profileImg,\n      sessionId: userData.sessionId,\n      updatedAt: userData.updatedAt,\n      _id: userData._id\n    };\n    socket.emit(\"join-user\", initData, cbData => {\n      console.log(\"user joined\");\n    });\n    socket.on(\"receive-msg\", data => {\n      console.log(data);\n      updateRecentMsg(data);\n      setRecentMsg(data);\n    });\n    socket.on(\"user-typing\", data => {\n      console.log(data);\n      updateRecentMsg(data);\n    });\n  };\n\n  const updateRecentMsg = data => {\n    friendsListDispatch({\n      type: \"RECENT_MSG\",\n      payload: data\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !(userObj && userObj.sessionId) ? /*#__PURE__*/_jsxDEV(Login, {\n      handleLogin: handleLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n      value: userObj,\n      children: /*#__PURE__*/_jsxDEV(SocketContext.Provider, {\n        value: socket,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"App\",\n          children: /*#__PURE__*/_jsxDEV(Router, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"left-side\",\n              children: [/*#__PURE__*/_jsxDEV(ProfileSection, {\n                handleLogout: handleLogout\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(SearchPeople, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ChatCardsListing, {\n                friendsList: friendsList\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Switch, {\n              children: /*#__PURE__*/_jsxDEV(Route, {\n                path: \"/:id\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"right-side\",\n                  children: /*#__PURE__*/_jsxDEV(ChatSection, {\n                    updateRecentMsg: updateRecentMsg,\n                    recentMsg: recentMsg,\n                    recentOnlineFriend: recentOnlineFriend,\n                    recentOfflineFriend: recentOfflineFriend\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 142,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(App, \"FASxOqSd9zgBImPl2f4XymLOd/s=\", false, function () {\n  return [useCookies];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/khushi/Desktop/whatsapp_clone-main/client/src/App.js"],"names":["useReducer","useState","useEffect","useCookies","ProfileSection","SearchPeople","ChatCardsListing","ChatSection","Login","BrowserRouter","Router","Switch","Route","BASE_URL","LOGIN","USER","USER_LIST","postRequest","getRequest","AuthContext","SocketContext","io","friendsListReducer","initialState","socket","connect","reconnection","reconnectionDelay","reconnectionAttempts","App","cookies","setCookie","removeCookie","error","setError","recentMsg","setRecentMsg","recentOnlineFriend","setRecentOnlineFriend","recentOfflineFriend","setRecentOfflineFriend","userObj","setUserObj","user","friendsList","friendsListDispatch","sessionId","joinUser","getFriendsList","handleLogin","userData","formData","FormData","file","append","name","JSON","stringify","response","console","log","handleLogout","type","payload","onlineOfflineUser","on","data","clear","initData","createdAt","profileImg","updatedAt","_id","emit","cbData","updateRecentMsg"],"mappings":"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","sourcesContent":["import logo from \"./logo.svg\";\nimport { useReducer, useState, useEffect } from \"react\";\nimport { useCookies } from \"react-cookie\";\nimport \"./App.scss\";\nimport ProfileSection from \"./component/ProfileSection/ProfileSection\";\nimport SearchPeople from \"./component/SearchPeople/SearchPeople\";\nimport ChatCardsListing from \"./component/ChatCardsListing/ChatCardsListing\";\nimport ChatSection from \"./component/ChatSection/ChatSection\";\nimport Login from \"./component/Login/Login\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { BASE_URL, LOGIN, USER, USER_LIST } from \"./utils/apiEndpoints\";\nimport { postRequest, getRequest } from \"./utils/apiRequests\";\nimport AuthContext from \"./context/AuthContext\";\nimport SocketContext from \"./context/SocketContext\";\nimport io from \"socket.io-client\";\nimport friendsListReducer from \"./reducer/friendsListReducer\";\n\nconst initialState = {};\n\nconst socket = io.connect(\"http://localhost:2000\", {\n  reconnection: true,\n  reconnectionDelay: 500,\n  reconnectionAttempts: 10,\n});\n\nfunction App() {\n  const [cookies, setCookie, removeCookie] = useCookies([\"whatsappclone\"]);\n  const [error, setError] = useState(null);\n  const [recentMsg, setRecentMsg] = useState({});\n  const [recentOnlineFriend, setRecentOnlineFriend] = useState({});\n  const [recentOfflineFriend, setRecentOfflineFriend] = useState({});\n  const [userObj, setUserObj] = useState(() => {\n    return cookies.user;\n  });\n\n  const [friendsList, friendsListDispatch] = useReducer(\n    friendsListReducer,\n    initialState\n  );\n\n  useEffect(() => {\n    if (userObj && userObj.sessionId) {\n      joinUser(userObj);\n      getFriendsList(userObj);\n    }\n  }, []);\n\n  const handleLogin = async (userData) => {\n    const formData = new FormData();\n    if (userData.file) {\n      formData.append(\"profileImg\", userData.file, userData.file.name);\n    }\n    formData.append(\"payload\", JSON.stringify({ name: userData.name }));\n    const response = await postRequest(`${BASE_URL}${LOGIN}`, formData);\n    console.log(response);\n    if (response.error) {\n      setError(response.error);\n      return false;\n    }\n    setCookie(\"user\", response);\n    setUserObj(response);\n    joinUser(response);\n    getFriendsList(response);\n  };\n\n  const handleLogout = () => {\n    removeCookie(\"user\");\n    setUserObj(null);\n  };\n\n  const getFriendsList = async (userData) => {\n    const response = await getRequest(\n      `${BASE_URL}${USER_LIST}/${userData.sessionId}`\n    );\n    if (response.error) {\n      setError(response.error);\n      return false;\n    }\n    friendsListDispatch({ type: \"FRIENDS\", payload: response });\n    onlineOfflineUser();\n  };\n\n  const onlineOfflineUser = () => {\n    socket.on(\"new-online-user\", (data) => {\n      friendsListDispatch({ type: \"NEW_FRIEND\", payload: data });\n      setRecentOnlineFriend(data);\n    });\n    socket.on(\"new-offline-user\", (data) => {\n      console.clear();\n      console.log(data);\n      setRecentOfflineFriend(data);\n    });\n  };\n\n  const joinUser = (userData) => {\n    let initData = {\n      createdAt: userData.createdAt,\n      name: userData.name,\n      profileImg: userData.profileImg,\n      sessionId: userData.sessionId,\n      updatedAt: userData.updatedAt,\n      _id: userData._id,\n    };\n\n    socket.emit(\"join-user\", initData, (cbData) => {\n      console.log(\"user joined\");\n    });\n\n    socket.on(\"receive-msg\", (data) => {\n      console.log(data);\n      updateRecentMsg(data);\n      setRecentMsg(data);\n    });\n\n    socket.on(\"user-typing\", (data) => {\n      console.log(data);\n      updateRecentMsg(data);\n    });\n  };\n\n  const updateRecentMsg = (data) => {\n    friendsListDispatch({ type: \"RECENT_MSG\", payload: data });\n  };\n\n  return (\n    <>\n      {!(userObj && userObj.sessionId) ? (\n        <Login handleLogin={handleLogin} />\n      ) : (\n        <AuthContext.Provider value={userObj}>\n          <SocketContext.Provider value={socket}>\n            <div className=\"App\">\n              <Router>\n                <div className=\"left-side\">\n                  <ProfileSection handleLogout={handleLogout} />\n                  <SearchPeople />\n                  <ChatCardsListing friendsList={friendsList} />\n                </div>\n                <Switch>\n                  <Route path=\"/:id\">\n                    <div className=\"right-side\">\n                      <ChatSection\n                        updateRecentMsg={updateRecentMsg}\n                        recentMsg={recentMsg}\n                        recentOnlineFriend={recentOnlineFriend}\n                        recentOfflineFriend={recentOfflineFriend}\n                      />\n                    </div>\n                  </Route>\n                </Switch>\n              </Router>\n            </div>\n          </SocketContext.Provider>\n        </AuthContext.Provider>\n      )}\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}